class ArticleCarousel{constructor(){this.carousels=[],this.init()}init(){this.processCarouselShortcodes(),this.initializeCarousels()}processCarouselShortcodes(){const e=document.querySelector(".article-content, .prose");if(!e)return;const t=/\[carousel\](.*?)\[\/carousel\]/g;let s,l=e.innerHTML,n=0;for(;null!==(s=t.exec(l));){const e=s[1].split(",").map(e=>e.trim()).filter(e=>e);if(e.length>0){const t=this.generateCarouselHtml(e,n);l=l.replace(s[0],t),n++}}e.innerHTML=l}generateCarouselHtml(e,t){const s=e.map((e,t)=>`\n            <div class="carousel-slide ${0===t?"active":""}" data-slide="${t}">\n                <img src="${e}" alt="Image ${t+1}" class="w-full h-64 md:h-80 object-cover rounded-lg">\n            </div>\n        `).join(""),l=e.map((e,t)=>`\n            <button class="carousel-dot ${0===t?"active":""}" data-slide="${t}"></button>\n        `).join("");return`\n            <div class="article-carousel my-8" data-carousel-id="${t}">\n                <div class="relative overflow-hidden rounded-lg bg-gray-100">\n                    <div class="carousel-container relative">\n                        ${s}\n                    </div>\n                    \n                    ${e.length>1?`\n                        \x3c!-- Navigation arrows --\x3e\n                        <button class="carousel-prev absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                            </svg>\n                        </button>\n                        <button class="carousel-next absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </button>\n                        \n                        \x3c!-- Indicators --\x3e\n                        <div class="carousel-indicators absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">\n                            ${l}\n                        </div>\n                    `:""}\n                </div>\n            </div>\n        `}initializeCarousels(){document.querySelectorAll(".article-carousel").forEach(e=>{this.setupCarousel(e)})}setupCarousel(e){const t=e.querySelectorAll(".carousel-slide"),s=e.querySelectorAll(".carousel-dot"),l=e.querySelector(".carousel-prev"),n=e.querySelector(".carousel-next");let r=0;const o=e=>{t.forEach(e=>e.classList.remove("active")),s.forEach(e=>e.classList.remove("active")),t[e].classList.add("active"),s[e]&&s[e].classList.add("active"),r=e},a=()=>{const e=(r+1)%t.length;o(e)},i=()=>{const e=(r-1+t.length)%t.length;o(e)};l&&l.addEventListener("click",i),n&&n.addEventListener("click",a),s.forEach((e,t)=>{e.addEventListener("click",()=>o(t))});let c=setInterval(a,5e3);e.addEventListener("mouseenter",()=>clearInterval(c)),e.addEventListener("mouseleave",()=>{c=setInterval(a,5e3)}),this.carousels.push({element:e,currentSlide:r,totalSlides:t.length,showSlide:o,nextSlide:a,prevSlide:i})}}document.addEventListener("DOMContentLoaded",()=>{new ArticleCarousel}),window.initializeCarousels=()=>{new ArticleCarousel};